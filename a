  1 Presentation Layer                                                                                                â”‚
â”‚     â€¢ RESTful API è™•ç†å™¨ (HTTP handlers)                                                                             â”‚
â”‚     â€¢ NATS è¨Šæ¯è™•ç†å™¨å®Œæ•´å¯¦ä½œ                                                                                        â”‚
â”‚     â€¢ ä¸­ä»‹è»Ÿé«” (èªè­‰ã€é™æµã€CORS)                                                                                    â”‚
â”‚  2 Template/Message æ‡‰ç”¨å±¤                                                                                           â”‚
â”‚     â€¢ Template CRUD Use Cases                                                                                        â”‚
â”‚     â€¢ Message ç™¼é€å®Œæ•´æµç¨‹    



 å®Œç¾ï¼æˆ‘å·²ç¶“æˆåŠŸå®Œæˆäº† Presentation Layer çš„é–‹ç™¼ã€‚è®“æˆ‘ç¸½çµä¸€ä¸‹å®Œæˆçš„å·¥ä½œï¼š                                           â”‚
â”‚                                                                                                                      â”‚
â”‚                                                                                                                      â”‚
â”‚                                          ğŸ‰ Presentation Layer é–‹ç™¼å®Œæˆç¸½çµ                                          â”‚
â”‚                                                                                                                      â”‚
â”‚                                                   âœ… å·²å®Œæˆçš„åŠŸèƒ½                                                    â”‚
â”‚                                                                                                                      â”‚
â”‚                                                1. RESTful API è™•ç†å™¨                                                 â”‚
â”‚                                                                                                                      â”‚
â”‚  â€¢ Channel Handler (internal/presentation/http/handlers/channel_handler.go)                                          â”‚
â”‚     â€¢ æ”¯æ´å®Œæ•´çš„ CRUD æ“ä½œï¼šCREATE, GET, LIST, UPDATE, DELETE                                                        â”‚
â”‚     â€¢ ä½¿ç”¨ Gin æ¡†æ¶é€²è¡Œ HTTP è«‹æ±‚è™•ç†                                                                                â”‚
â”‚     â€¢ å®Œæ•´çš„è¼¸å…¥é©—è­‰å’ŒéŒ¯èª¤è™•ç†                                                                                       â”‚
â”‚     â€¢ æ”¯æ´æŸ¥è©¢åƒæ•¸ï¼ˆåˆ†é ã€ç¯©é¸ç­‰ï¼‰                                                                                   â”‚
â”‚                                                                                                                      â”‚
â”‚                                                   2. HTTP ä¸­ä»‹è»Ÿé«”                                                   â”‚
â”‚                                                                                                                      â”‚
â”‚  â€¢ éŒ¯èª¤è™•ç†ä¸­ä»‹è»Ÿé«” (error_handler.go) - çµ±ä¸€éŒ¯èª¤è™•ç†å’Œ panic æ¢å¾©                                                   â”‚
â”‚  â€¢ è«‹æ±‚æ—¥èªŒä¸­ä»‹è»Ÿé«” (request_logger.go) - çµæ§‹åŒ–æ—¥èªŒè¨˜éŒ„å’Œè«‹æ±‚è¿½è¹¤                                                   â”‚
â”‚  â€¢ å›æ‡‰æ ¼å¼åŒ–ä¸­ä»‹è»Ÿé«” (response_formatter.go) - æ¨™æº–åŒ–å›æ‡‰æ ¼å¼å’Œ CORS æ”¯æ´                                           â”‚
â”‚                                                                                                                      â”‚
â”‚                                                     3. è·¯ç”±è¨­å®š                                                      â”‚
â”‚                                                                                                                      â”‚
â”‚  â€¢ æ¨¡çµ„åŒ–è·¯ç”±è¨­è¨ˆ (routes/) - æ”¯æ´ç‰ˆæœ¬æ§åˆ¶å’ŒåŠŸèƒ½åˆ†é›¢                                                                 â”‚
â”‚  â€¢ å¥åº·æª¢æŸ¥ç«¯é» (/health) - ç³»çµ±ç‹€æ…‹ç›£æ§                                                                             â”‚
â”‚  â€¢ RESTful API ç«¯é» (/api/v1/channels/*) - å®Œæ•´çš„ Channel API                                                        â”‚
â”‚                                                                                                                      â”‚
â”‚                                                  4. NATS è¨Šæ¯è™•ç†å™¨                                                  â”‚
â”‚                                                                                                                      â”‚
â”‚  â€¢ Channel NATS Handler (internal/presentation/nats/handlers/channel_nats_handler.go)                                â”‚
â”‚     â€¢ æ”¯æ´æ‰€æœ‰ Channel æ“ä½œçš„ NATS è¨Šæ¯è™•ç†                                                                          â”‚
â”‚     â€¢ æ¨™æº–åŒ–çš„è«‹æ±‚/å›æ‡‰æ ¼å¼                                                                                          â”‚
â”‚     â€¢ å®Œæ•´çš„éŒ¯èª¤è™•ç†å’Œæ—¥èªŒè¨˜éŒ„                                                                                       â”‚
â”‚     â€¢ æ”¯æ´è«‹æ±‚è¿½è¹¤å’Œç›¸é—œæ€§ ID                                                                                        â”‚
â”‚                                                                                                                      â”‚
â”‚                                                  5. NATS è™•ç†å™¨ç®¡ç†                                                  â”‚
â”‚                                                                                                                      â”‚
â”‚  â€¢ Handler Manager (handler_manager.go) - çµ±ä¸€ç®¡ç†æ‰€æœ‰ NATS è™•ç†å™¨                                                   â”‚
â”‚  â€¢ å¥åº·æª¢æŸ¥ - NATS é€£ç·šç‹€æ…‹ç›£æ§                                                                                      â”‚
â”‚  â€¢ å„ªé›…é—œé–‰ - æ”¯æ´é›¶åœæ©Ÿéƒ¨ç½²                                                                                         â”‚
â”‚                                                                                                                      â”‚
â”‚                                                   6. å±•ç¤ºå±¤ä¼ºæœå™¨                                                    â”‚
â”‚                                                                                                                      â”‚
â”‚  â€¢ Server çµ„ä»¶ (server.go) - çµ±ä¸€ç®¡ç† HTTP å’Œ NATS æœå‹™                                                              â”‚
â”‚  â€¢ é…ç½®ç®¡ç† - éˆæ´»çš„ä¼ºæœå™¨é…ç½®é¸é …                                                                                   â”‚
â”‚  â€¢ ç”Ÿå‘½é€±æœŸç®¡ç† - å•Ÿå‹•ã€é‹è¡Œã€å„ªé›…é—œé–‰                                                                               â”‚
â”‚                                                                                                                      â”‚
â”‚                                                    7. ä¸»ç¨‹å¼æ•´åˆ                                                     â”‚
â”‚                                                                                                                      â”‚
â”‚  â€¢ æ›´æ–° cmd/server/main.go ä½¿ç”¨æ–°çš„ Presentation Layer                                                               â”‚
â”‚  â€¢ å®Œæ•´çš„ä¾è³´æ³¨å…¥å’Œæœå‹™åˆå§‹åŒ–                                                                                        â”‚
â”‚  â€¢ å„ªé›…é—œé–‰æ©Ÿåˆ¶                                                                                                      â”‚
â”‚                                                                                                                      â”‚
â”‚                                                     ğŸ“š æŠ€è¡“ç‰¹è‰²                                                      â”‚
â”‚                                                                                                                      â”‚
â”‚                                               Clean Architecture å¯¦è¸                                                â”‚
â”‚                                                                                                                      â”‚
â”‚  â€¢ âœ… ä¾è³´æ–¹å‘æ­£ç¢ºï¼šPresentation â†’ Application â†’ Domain                                                              â”‚
â”‚  â€¢ âœ… å±¤ç´šè·è²¬åˆ†é›¢æ¸…æ™°                                                                                               â”‚
â”‚  â€¢ âœ… ä»‹é¢æŠ½è±¡åŒ–ä¾¿æ–¼æ¸¬è©¦                                                                                             â”‚
â”‚                                                                                                                      â”‚
â”‚                                                     DDD åŸå‰‡éµå¾ª                                                     â”‚
â”‚                                                                                                                      â”‚
â”‚  â€¢ âœ… ä½¿ç”¨ Application Layer çš„ Use Cases                                                                            â”‚
â”‚  â€¢ âœ… é€é DTOs é€²è¡Œè³‡æ–™è½‰æ›                                                                                         â”‚
â”‚  â€¢ âœ… é ˜åŸŸé‚è¼¯å°è£åœ¨ Domain Layer                                                                                    â”‚
â”‚                                                                                                                      â”‚
â”‚                                                      ä¼æ¥­ç´šåŠŸèƒ½                                                      â”‚
â”‚                                                                                                                      â”‚
â”‚  â€¢ âœ… çµæ§‹åŒ–æ—¥èªŒè¨˜éŒ„ï¼ˆZapï¼‰                                                                                          â”‚
â”‚  â€¢ âœ… è«‹æ±‚è¿½è¹¤å’Œç›¸é—œæ€§ ID                                                                                            â”‚
â”‚  â€¢ âœ… çµ±ä¸€éŒ¯èª¤è™•ç†                                                                                                   â”‚
â”‚  â€¢ âœ… å¥åº·æª¢æŸ¥ç«¯é»                                                                                                   â”‚
â”‚  â€¢ âœ… CORS è·¨åŸŸæ”¯æ´                                                                                                  â”‚
â”‚  â€¢ âœ… å„ªé›…é—œé–‰æ©Ÿåˆ¶                                                                                                   â”‚
â”‚                                                                                                                      â”‚
â”‚                                                  ğŸ›  æ”¯æ´çš„ API ç«¯é»                                                   â”‚
â”‚                                                                                                                      â”‚
â”‚                                                                                                                      â”‚
â”‚   æ–¹æ³•     è·¯å¾‘                   åŠŸèƒ½                                                                               â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                                                      â”‚
â”‚   GET      /health                å¥åº·æª¢æŸ¥                                                                           â”‚
â”‚   POST     /api/v1/channels       å»ºç«‹é€šé“                                                                           â”‚
â”‚   GET      /api/v1/channels       æŸ¥è©¢é€šé“åˆ—è¡¨                                                                       â”‚
â”‚   GET      /api/v1/channels/:id   å–å¾—å–®ä¸€é€šé“                                                                       â”‚
â”‚   PUT      /api/v1/channels/:id   æ›´æ–°é€šé“                                                                           â”‚
â”‚   DELETE   /api/v1/channels/:id   åˆªé™¤é€šé“                                                                           â”‚
â”‚                                                                                                                      â”‚
â”‚                                                                                                                      â”‚
â”‚                                                 ğŸ”„ æ”¯æ´çš„ NATS ä¸»é¡Œ                                                  â”‚
â”‚                                                                                                                      â”‚
â”‚                                                                                                                      â”‚
â”‚   ä¸»é¡Œ                                     åŠŸèƒ½                                                                      â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                                             â”‚
â”‚   eco1j.infra.eventcenter.channel.create   å»ºç«‹é€šé“                                                                  â”‚
â”‚   eco1j.infra.eventcenter.channel.get      å–å¾—å–®ä¸€é€šé“                                                              â”‚
â”‚   eco1j.infra.eventcenter.channel.list     æŸ¥è©¢é€šé“åˆ—è¡¨                                                              â”‚
â”‚   eco1j.infra.eventcenter.channel.update   æ›´æ–°é€šé“                                                                  â”‚
â”‚   eco1j.infra.eventcenter.channel.delete   åˆªé™¤é€šé“                                                                  â”‚
â”‚                                                                                                                      â”‚
â”‚                                                                                                                      â”‚
â”‚                                                     ğŸ“– æ–‡ä»¶ç”¢å‡º                                                      â”‚
â”‚                                                                                                                      â”‚
â”‚  â€¢ PRESENTATION_LAYER_IMPLEMENTATION.md - å®Œæ•´çš„å¯¦ä½œæ–‡ä»¶ï¼ˆæ­£é«”ä¸­æ–‡ï¼‰                                                 â”‚
â”‚  â€¢ ç¨‹å¼ç¢¼è¨»è§£ä½¿ç”¨è‹±æ–‡                                                                                                â”‚
â”‚  â€¢ éµå¾ªæ—¢æœ‰çš„æ–‡ä»¶æ ¼å¼å’Œé¢¨æ ¼                                                                                          â”‚
â”‚                                                                                                                      â”‚
â”‚                                                    ğŸš€ ä¸‹ä¸€æ­¥å»ºè­°                                                     â”‚
â”‚                                                                                                                      â”‚
â”‚ ç¾åœ¨ Presentation Layer å·²ç¶“å®Œæˆï¼Œæ‚¨å¯ä»¥ï¼š                                                                           â”‚
â”‚                                                                                                                      â”‚
â”‚  1 å•Ÿå‹•æœå‹™ï¼šé‹è¡Œ go run cmd/server/main.go å•Ÿå‹•å®Œæ•´çš„ API æœå‹™                                                      â”‚
â”‚  2 æ¸¬è©¦ APIï¼šä½¿ç”¨ Postman æˆ– curl æ¸¬è©¦ RESTful API ç«¯é»                                                              â”‚
â”‚  3 æ¸¬è©¦ NATSï¼šä½¿ç”¨ NATS å®¢æˆ¶ç«¯æ¸¬è©¦è¨Šæ¯è™•ç†åŠŸèƒ½                                                                       â”‚
â”‚  4 æ“´å±•åŠŸèƒ½ï¼šæŒ‰ç…§ç›¸åŒæ¨¡å¼æ–°å¢ Template å’Œ Message çš„è™•ç†å™¨                                                           â”‚
â”‚                                                                                                                      â”‚
â”‚ æ•´å€‹ Presentation Layer ç¾åœ¨æä¾›äº†å®Œæ•´ã€ç©©å®šã€å¯æ“´å±•çš„å°å¤–ä»‹é¢ï¼Œæ”¯æ´ HTTP å’Œ NATS å…©ç¨®é€šè¨Šå”å®šï¼Œå®Œå…¨ç¬¦åˆ DDD å’Œ      â”‚
â”‚ Clean Architecture çš„è¨­è¨ˆåŸå‰‡ï¼                                                                                      â”‚
â”‚                                                                                                                      â”‚
â”‚ æ‚¨å¸Œæœ›æˆ‘æ¥ä¸‹ä¾†é–‹ç™¼å“ªå€‹éƒ¨åˆ†ï¼Œæˆ–è€…æœ‰ä»€éº¼å•é¡Œéœ€è¦èª¿æ•´å—ï¼Ÿ    